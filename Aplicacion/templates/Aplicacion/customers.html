{% extends "Aplicacion/layouts/base.html" %}

{% block content %}

{% load humanize %}


<div class="container">

    <h5>Consulta de Customers</h5>

    <div class="row border border-primary">
        <div class="col-sm-4">
            <div class="row mt-2 mb-2">
                <form action="/customers/" method="get">
                    {% include 'Aplicacion/bs4_form.html' with form=form %}
                </div>
        </div>
        <div class="col-sm-4 my-auto">
            <div class="row">
                <input class="btn btn-primary btn-block mt-3 mb-3 " type="submit" value="Filtrar"/>
            </div>
        </div>
        </form>
    </div>
</div>


<p></p>
<div class="container">
    <table class="table table-sm table-bordered table-striped">
        <thead class="thead-dark">
            <th style="text-align:center">Nombre</th>
            <th style="text-align:center">Compañía</th>
            <th style="text-align:center">Cumpleaños </th>
            <th style="text-align:center">Última interacción</th>
        </thead>
        <tbody>
            {% for customer in customers %}
            <tr>
                <td style="text-align:left">{{ customer.nombre }}</td>
                <td style="text-align:left">{{ customer.company }}</td>
                <td style="text-align:left">{{ customer.fecha_nacimiento | date:"F d" }}  </td>
                <td style="text-align:left">
                    {% if customer.tipo %}
                    {{ customer.fecha_interaccion | naturaltime }} ({{ customer.tipo }})
                        {% endif %}                    
                </td>
            </tr>
            {% endfor %}
        </tbody>
    </table>
    
</div>

{% endblock %}

